<!DOCTYPE html>
<html>

<head>
    <title>ChatBot Demo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="../static/style.css">
    <script src="../static/jquery-3.5.1.min.js"></script>

</head>

<body>
    <div class="chat-window" id="chat-window">
        <p>
            å—¨ï¼æˆ‘æ˜¯ChatBotï¼Œä¸æ˜¯è¶…äººï¼Œä½†æˆ‘èƒ½å†™è¯—ã€å†™å°è¯´ã€å†™æ–‡æ¡ˆã€å†™ä½œä¸šï¼Œç”šè‡³è¿˜èƒ½æ›¿ä½ åº”ç­”å’Œç¼–ç¨‹ã€‚<br><br>
            ä¸è¿‡ï¼Œå°±åƒä½ åœ¨æ’é˜Ÿç­‰å¤§é¤æ—¶ä¸€æ ·ï¼Œå¦‚æœæˆ‘å›å¤å¾—è¶Šå¤šï¼Œä½ ç­‰å¾…çš„æ—¶é—´ä¹Ÿä¼šè¶Šé•¿ã€‚<br><br>
            å¦‚æœä½ æé—®åçœ‹åˆ°æˆ‘é©¬ä¸Šå›å¤ç©ºç™½ä¿¡æ¯ï¼Œåˆ«æ€¥ç€ç¦»å¼€æˆ‘ï¼Œè¿™å¯èƒ½åªæ˜¯å› ä¸ºå¤ªå¤šäººåœ¨ç‚¹é¤ï¼Œè®©æˆ‘æœ‰äº›å–˜ä¸è¿‡æ°”æ¥ã€‚<br><br><br>
        </p>
        {% block content %}
        {% endblock %}
        <div id="loading" style="display:none;">ğŸ¤–:  æ­£åœ¨æ‰“å­—å›å¤ä¸­ï¼Œè¯·ç¨ç­‰ä¸€ä¸‹ï¼Œä¸è¦é‡å¤æé—®...</div>
    </div>

    <form method="post" id="chat-form">
        <input type="text" name="user_input" placeholder="è¯·æ–‡æ˜å®ˆæ³•æé—®..." autocomplete="off" required><br>
        <input type="submit" id="user_submit" name="user_submit" value="å‘é€æé—®" formaction="/chat">
        <input type="submit" value="æ¸…é™¤ä¼šè¯" formnovalidate formaction="/reset">
    </form>

    <img src="../static/nice.jpg" alt="ç‚¹ä¸ªèµ">
    <script>
        function scrollToBottom() {
            var chatWindow = document.getElementById("chat-window");
            chatWindow.scrollTop = chatWindow.scrollHeight;
        }

        // Add loading tips
        document.getElementById("user_submit").addEventListener("click", function () {
            let loading = document.getElementById('loading');
            loading.style.display = 'block';
            scrollToBottom();
            xhr.onload = function () {
                loading.style.display = 'none';
            }
        });

        // Scroll to the bottom of the chat window on page load
        window.onload = function () {
            scrollToBottom();
        }

    </script>

</body>

</html>